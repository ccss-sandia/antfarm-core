#!/usr/bin/ruby

def print_help
  puts "Usage: antfarm [options] load-host"
end

def parse
  host_list =
    ['146.146.156.251/24',  # msfc4_ver_int.txt
     '146.146.167.251/21',
     '146.146.143.251/24',
     '146.146.156.250/24',  # msfc3_ver_int.txt
     '146.146.167.250/21',
     '146.146.143.250/24',
     '146.146.156.252/24',  # msfc2_ver_int.txt
     '146.146.167.252/21',
     '146.146.143.252/24',
     '146.146.156.253/24',  # msfc1_ver_int.txt
     '146.146.167.253/21',
     '146.146.143.253/24',
     '146.146.156.250/255.255.255.0',  # MSFC4.txt
     '146.146.167.250/255.255.248.0',
     '146.146.143.250/255.255.255.0',
     '146.146.156.251/255.255.255.0',  # MSFC3.txt
     '146.146.167.251/255.255.248.0',
     '146.146.143.251/255.255.255.0',
     '146.146.156.252/255.255.255.0',  # MSFC2.txt
     '146.146.167.252/255.255.248.0',
     '146.146.143.252/255.255.255.0',
     '146.146.156.253/255.255.255.0',  # MSFC1.txt
     '146.146.167.253/255.255.248.0',
     '146.146.143.253/255.255.255.0',
     '146.146.151.253/23',  # k-87-rsm_ver_int.txt
     '146.146.161.249/21',
     '146.146.151.252/23',  # k-75-rsm_ver_int.txt
     '146.146.161.250/21']

  host_list.each do |host|
    IpInterface.create(:address => host.strip)
  end
end

if ARGV.empty?
  parse
elsif ARGV[0] == '--help'
  print_help
end
